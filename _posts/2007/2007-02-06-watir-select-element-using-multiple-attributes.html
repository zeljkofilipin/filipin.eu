---
tags:  code ruby
title: 'Watir: Select Element Using Multiple Attributes'
---
<p>There are two links in a page that I am testing.</p>

{% highlight html %}
<a href="1">reply</a>
<a href="2">reply</a>
{% endhighlight %}

<p>I need to get value of href attribute for the second link.</p>
<p>I can not use <code>:text</code>, because it will return <code>href</code> attribute for the first link.</p>

{% highlight ruby %}
browser.link(:text, "reply").href
#=> "{site}1"
{% endhighlight %}

<p>I can use <code>:index</code>, but if anything on that page changes, it could break.</p>

{% highlight ruby %}
browser.link(:index, 2).href
#=> "{site}2"
{% endhighlight %}

<p><a href="http://www.pettichord.com/">Bret Pettichord</a> posted posted a solution for this at <a href="httpp//rubyforge.org/pipermail/wtr-general/2006-November/008001.html">wtr-general</a> a few months ago.</p>
<blockquote>
In 1.5, this syntax works:

{% highlight ruby %}
browser.div(:name => 'foo', :index => 2).click
{% endhighlight %}

This will find the second <code>div</code> with the <code>name</code> <code>foo</code>.
</blockquote>
<p>And it really works.</p>

{% highlight ruby %}
browser.link(:text => "reply", :index => 2).href
#=> "{site}2"
{% endhighlight %}
